services:
  # Monitor service - provides real-time printer monitoring
  monitor:
    build:
      context: .
      dockerfile: Dockerfile
    image: bambu-monitor
    container_name: bambu-monitor
    env_file: .env
    command: python3 monitor.py
    restart: on-failure
    healthcheck:
      test: curl --fail https://localhost:9999||exit 1
      interval: 15s
      retries: 1
      timeout: 1s
      start-period: 3s