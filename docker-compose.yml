services:
  # Monitor service - provides real-time printer monitoring
  monitor:
    build:
      context: .
      dockerfile: Dockerfile
    image: bambu-monitor
    container_name: bambu-monitor
    env_file: .env
    volumes:
      - .:/app
    command: python3 monitor.py
    restart: on-failure
    healthcheck:
      test: exit 1
      interval: 20s
      retries: 3
      timeout: 1s